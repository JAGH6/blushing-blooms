<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact | Blushing Blooms — OKC Florist</title>
  <meta name="description" content="Contact Blushing Blooms for orders, consultations, or event florals. Oklahoma City, Norman, Edmond. We're online — reach out anytime.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,500;0,600;1,500&family=Nunito+Sans:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">
</head>
<body>
  <header class="site-header">
    <div class="container">
      <div class="logo"><a href="/">Blushing Blooms</a></div>
      <button class="nav-toggle" aria-label="Menu"><span></span><span></span><span></span></button>
      <nav class="nav">
        <a href="/">Home</a>
        <a href="/shop">Shop</a>
        <a href="/schedule">Book</a>
        <a href="/contact">Contact</a>
        <a href="/gallery">Gallery</a>
        <a href="#" class="cart-link js-open-cart">Cart (<span id="bb35-cart-count" class="cart-count" data-count="0">0</span>)</a>
        <a href="https://www.instagram.com/blushing_blooms_35/" target="_blank" rel="noopener">Instagram</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container" style="max-width: 560px;">
        <div class="section-title">
          <h1>Get in Touch</h1>
          <p>We're online-only and serve the OKC metro. Send a message and we'll get back to you soon.</p>
        </div>

        <div id="form-message" class="form-message" style="display: none;"></div>

        <form id="contact-form" method="post" action="">
          <div class="form-group">
            <label for="contact-name">Name *</label>
            <input type="text" id="contact-name" name="name" required>
          </div>
          <div class="form-group">
            <label for="contact-email">Email *</label>
            <input type="email" id="contact-email" name="email" required>
          </div>
          <div class="form-group">
            <label for="contact-subject">I'm interested in…</label>
            <select id="contact-subject" name="subject">
              <option value="general">General inquiry</option>
              <option value="order">Order / delivery</option>
              <option value="event">Event arrangements</option>
              <option value="consultation">Consultation</option>
            </select>
          </div>
          <div class="form-group">
            <label for="contact-message">Message *</label>
            <textarea id="contact-message" name="message" required></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Send message</button>
        </form>

        <p style="margin-top: 1.5rem; text-align: center;">
          <a href="https://www.instagram.com/blushing_blooms_35/" target="_blank" rel="noopener">Follow us on Instagram @blushing_blooms_35</a>
        </p>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div class="footer-instagram">
        <a href="https://www.instagram.com/blushing_blooms_35/" target="_blank" rel="noopener">@blushing_blooms_35</a>
      </div>
      <p class="footer-areas">Oklahoma City · Norman · Edmond & surrounding areas</p>
      <div class="footer-links">
        <a href="/contact">Contact</a>
        <a href="/shop">Shop</a>
        <a href="/schedule">Book</a>
      </div>
    </div>
  </footer>

  <div id="bb35-cart-overlay" class="overlay" aria-hidden="true"></div>
  <div id="bb35-cart-drawer" class="cart-drawer">
    <div class="cart-drawer-header">
      <h2 style="margin:0;">Your Cart</h2>
      <button type="button" class="cart-drawer-close" aria-label="Close cart">&times;</button>
    </div>
    <div class="cart-drawer-body"></div>
    <div class="cart-drawer-footer"></div>
  </div>

  <script src="/js/cart.js"></script>
  <script src="/js/main.js"></script>
  <script>
    (function () {
      var form = document.getElementById('contact-form');
      var msgEl = document.getElementById('form-message');
      if (!form) return;

      form.addEventListener('submit', function (e) {
        e.preventDefault();
        msgEl.style.display = 'none';
        var name = (document.getElementById('contact-name').value || '').trim();
        var email = (document.getElementById('contact-email').value || '').trim();
        var subject = (document.getElementById('contact-subject').value || 'general');
        var message = (document.getElementById('contact-message').value || '').trim();
        if (!name || !email || !message) {
          showMsg('Please fill in name, email, and message.', 'error');
          return;
        }

        var btn = form.querySelector('button[type="submit"]');
        btn.disabled = true;

        fetch('/api/contact', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ name: name, email: email, subject: subject, message: message })
        }).then(function (r) {
          return r.json().then(function (data) {
            if (r.ok) {
              showMsg('Thank you! We\'ll get back to you soon.', 'success');
              form.reset();
            } else {
              showMsg(data.error || 'Something went wrong. Please try again.', 'error');
            }
          });
        }).catch(function () {
          showMsg('Unable to send. Please try again or reach out on Instagram.', 'error');
        }).finally(function () {
          btn.disabled = false;
        });
      });

      function showMsg(text, type) {
        msgEl.textContent = text;
        msgEl.className = 'form-message ' + type;
        msgEl.style.display = 'block';
      }
    })();
  </script>
</body>
</html>
